{% extends "dashboards/student/base.html" %}
{% block title %}Payment History{% endblock %}

{% block student_content %}

<h2 class="text-2xl font-bold mb-6">Payment History</h2>

<div class="bg-white rounded-xl shadow p-6">

    <table class="w-full">
        <thead>
            <tr class="bg-gray-100 text-xs uppercase">
                <th class="p-3 text-left">Date</th>
                <th class="p-3 text-left">Amount</th>
                <th class="p-3 text-left">Method</th>
                <th class="p-3 text-left">Transaction ID</th>
                <th class="p-3 text-left">Receipt</th>
            </tr>
        </thead>
        <tbody>
            {% for payment in payments %}
            <tr class="border-t">
                <td class="p-3">{{ payment.payment_date|date:"M d, Y H:i" }}</td>
                <td class="p-3 font-semibold text-emerald-600">
                    â‚¹{{ payment.amount }}
                </td>
                <td class="p-3">{{ payment.payment_method }}</td>
                <td class="p-3 text-xs text-gray-400">
                    {{ payment.transaction_id }}
                </td>
                <td class="p-3">
                    <a href="{% url 'download_receipt' payment.id %}"
                    class="px-3 py-1 bg-indigo-600 text-white rounded text-xs">
                        Download
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" class="p-6 text-center text-gray-400">
                    No payments yet.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</div>

{% endblock %}