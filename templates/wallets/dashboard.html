{% extends "base.html" %}
{% block content %}

<div class="container mt-5">
    <h2>My Wallet</h2>

    <div class="card shadow mb-4">
        <div class="card-body text-white"
             style="background: linear-gradient(135deg, #1e3c72, #2a5298);">
            <h4>Available Balance</h4>
            <h2>₹ {{ wallet.balance }}</h2>
        </div>
    </div>

    <h4>Transaction History</h4>

    <table class="table table-hover">
        <thead class="table-dark">
            <tr>
                <th>Date</th>
                <th>Description</th>
                <th>Type</th>
                <th>Amount</th>
            </tr>
        </thead>
        <tbody>
        {% for t in transactions %}
            <tr>
                <td>{{ t.created_at|date:"d M Y H:i" }}</td>
                <td>{{ t.description }}</td>

                {% if t.transaction_type == "CREDIT" %}
                    <td class="text-success">Credit</td>
                    <td class="text-success fw-bold">+ ₹{{ t.amount }}</td>
                {% else %}
                    <td class="text-danger">Debit</td>
                    <td class="text-danger fw-bold">- ₹{{ t.amount }}</td>
                {% endif %}
            </tr>
        {% empty %}
            <tr>
                <td colspan="4">No transactions yet</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}